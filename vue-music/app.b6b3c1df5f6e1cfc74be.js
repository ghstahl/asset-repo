webpackJsonp([2,0],[function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}var r=n(2),s=o(r),i=n(75),a=o(i),u=n(71),c=o(u);n(59);var l=n(67),d=o(l),f=n(22),h=o(f),p=n(24),m=o(p);s.default.use(c.default),d.default.attach(document.body),new s.default({el:"#app",template:"<App/>",components:{App:a.default},router:h.default,store:m.default})},,,,,,,,,,,,,,,function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function r(){return window.innerWidth>993}Object.defineProperty(e,"__esModule",{value:!0});var s=n(76),i=o(s);e.default={data:function(){var t=r();return{open:t,docked:t,desktop:t,title:""}},mounted:function(){var t=this;this.routes=this.$router.options.routes,this.setTitle(),this.changeNav(),this.handleResize=function(){t.changeNav()},window.addEventListener("resize",this.handleResize),window.addEventListener("hashchange",function(){}),this.$on("close",function(){t.open=!1})},methods:{toggleNav:function(){this.open=!this.open},changeNav:function(){var t=r();this.docked=t,t!==this.desktop&&(!t&&this.desktop&&this.open&&(this.open=!1),!t||this.desktop||this.open||(this.open=!0),this.desktop=t)},handleMenuChange:function(t){this.desktop||(this.open=!1)},setTitle:function(){var t=window.location.hash;console.log(t),t&&t.length>1&&(t=t.substring(1));for(var e=0;e<this.routes.length;e++){var n=this.routes[e];if(n.path===t)return void(this.title=t.substring(1)||"")}},toIndex:function(){this.$router.push("/")}},destroyed:function(){window.removeEventListener("resize",this.handleResize)},components:{appSide:i.default}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(3);e.default={name:"appSide",props:{open:{type:Boolean,default:!0},docked:{type:Boolean,default:!0}},computed:(0,o.mapState)(["hisSongArr"]),methods:{handleClose:function(){this.$emit("close")},handleClick:function(t){var e=this.hisSongArr[t];this.$router.push("/player/"+e.albumid+"/"+e.songid+"/"+e.songmid)}}}},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(9),s=o(r),i=n(3);e.default={props:["songid"],data:function(){return{duration:0,loadedPercent:0,currentTime:this.$store.state.currentTime,currentSecond:0,totalTimeStr:"00:00"}},computed:(0,s.default)({currentTimeStr:function(){return this.convertToTime(this.currentSecond)}},(0,i.mapState)(["audio","playing"])),watch:{songid:"fetchdata"},mounted:function(){this.fetchdata()},methods:{fetchdata:function(){var t=this,e="http://ws.stream.qqmusic.qq.com/"+this.songid+".m4a?fromtag=46";this.audio.src=e,this.audio.addEventListener("timeupdate",function(e){t.duration=t.audio.duration,0!=t.duration&&(t.totalTimeStr=t.convertToTime(t.duration),t.currentSecond!=parseInt(t.audio.currentTime)&&(t.currentSecond=parseInt(t.audio.currentTime))),t.currentTime=t.audio.currentTime,t.$store.commit("changeCurrentTime",t.audio.currentTime)}),this.$store.commit("play")},convertToTime:function(t){var e,n=Math.floor(t/60%60),o=Math.floor(t%60);return o<10&&(o="0"+o),n<10&&(n="0"+n),e=n+":"+o},handlePlay:function(){this.playing?this.$store.commit("pause"):this.$store.commit("play")},handleChange:function(t){this.$store.commit("changePlayPos",t)}}}},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function r(t){for(var e=[],n=0;n<t.length-1;n++){var o=t[n],r={},s=o.match("\\[(.+?)\\]")[1];if(!/[^0-9\.\:]/.test(s)){var i=s.split(":"),a=60*parseInt(i[0])+parseFloat(i[1]);r.selected=!1,r.show=!0,r.time=a,r.lrc=o.replace(/(\.\d{2,3})/g,""),e.push(r)}}return e}Object.defineProperty(e,"__esModule",{value:!0});var s=n(9),i=o(s),a=n(3),u=n(69).Base64;e.default={props:["songid"],data:function(){return{defaultColor:"t-gra",selectedColor:"t-blu"}},computed:(0,i.default)({},(0,a.mapState)({lyricArr:function(t){return t.lyricArr},lrcCurIndex:function(t){return t.lrcCurIndex}}),{lrcMarginTop:function(){return this.lrcCurIndex*-2+4+"em"}}),watch:{songid:"fetchdata"},mounted:function(){this.fetchdata()},methods:{fetchdata:function(){var t=this;this.$store.dispatch("FETCH_LYRIC",this.songid).then(function(e){var n=u.decode(e.data.lyric).split("\n");t.$store.commit("loadLyric",{lyricArr:r(n)})})}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"songList",props:{songArr:{type:Array,required:!0}},data:function(){return{aniName:"animation-style-1"}},watch:{songArr:"fresh"},mounted:function(){this.fresh()},methods:{fresh:function(){var t=this;this.aniName="hide",setTimeout(function(){t.aniName="animation-style-1"},300),console.log("fresh")},handleSelect:function(t){this.$store.commit("addHisSong",{song:t}),this.$router.push("/player/"+t.albumid+"/"+t.songid+"/"+t.songmid)}}}},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(79),s=o(r);e.default={data:function(){return{hotSongArr:[],word:""}},mounted:function(){this.hotSongArr=hot_all.cdlist[0].songlist},methods:{handleEnter:function(t){var e=this;console.log("start search"),this.$store.dispatch("FETCH_SONG_LIST",this.word).then(function(t){console.log(t.data.data),e.hotSongArr=t.data.data.song.list})}},components:{SongList:s.default}}},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(78),s=o(r),i=n(77),a=o(i);n(3),n(27);e.default={data:function(){return{bottomNav:"recents",song:{},singer:{}}},computed:{albumid:function(){return this.$route.params.albumid||0},songid:function(){return this.$route.params.songid||"105738437"},songmid:function(){return this.$route.params.songmid||"001Ud2bQ0u61uC"},albumImgUrl:function(){return"http://imgcache.qq.com/music/photo/album_300/"+this.albumid%100+"/300_albumpic_"+this.albumid+"_0.jpg"}},watch:{$route:"fetchdata"},created:function(){this.fetchdata()},methods:{fetchdata:function(){var t=this;this.$store.dispatch("FETCH_SONG_INFO",this.songmid).then(function(e){t.song=e.data.data[0],t.singer=e.data.data[0].singer[0]})}},components:{Lyric:s.default,Controls:a.default}}},function(t,e,n){(function(t){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),s=o(r),i=n(90),a=o(i);s.default.use(a.default);var u=new a.default({mode:"hash",base:t,routes:[{path:"/index",component:n(80)},{path:"/player/:albumid/:songid/:songmid",component:n(81)},{path:"*",redirect:"/index"}]});e.default=u}).call(e,"/")},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function r(t){var e=f.default.http.jsonp(g.search.url,{params:g.search.params(t),jsonp:"jsonpCallback"});return console.log(g.search.url+m.stringify(g.search.params(t))),e.then(function(t){console.log(t.data)},function(t){console.log("request error")}),e}function s(t){var e=f.default.http.get(g.song_info.url,{params:g.song_info.params(t)});return console.log(g.song_info.url+"?"+m.stringify(g.song_info.params(t))),e.then(function(t){console.log(t.data)},function(t){console.log("request error")}),e}function i(){var t=f.default.http.jsonp(g.hotkey.url,g.hotkey.params());return t.then(function(t){console.log(t.data)},function(t){console.log("request error")}),t}function a(t){var e=f.default.http.jsonp(g.album.url,{params:g.album.params(t),jsonp:"jsonpCallback"});return e.then(function(t){console.log(t.data)},function(t){console.log("request error")}),e}function u(t){var e=f.default.http.jsonp("https://api.darlin.me/music/lyric/"+t+"/",{params:g.lyric.params(t),jsonp:"callback"});return e.then(function(t){console.log(t)},function(t){console.log(t),console.log("request error")}),e}function c(){var t=f.default.http.jsonp(baseListUrl+"/musicbox/shop/v3/data/hit/hit_all.js");return t.then(function(t){console.log(t.data)},function(t){console.log("request error")}),t}function l(){var t=f.default.http.jsonp(baseListUrl+"/musicbox/shop/v3/data/hit/hit_newsong.js");return t.then(function(t){console.log(t.data)},function(t){console.log("request error")}),t}Object.defineProperty(e,"__esModule",{value:!0}),e.search=r,e.fetchSongInfo=s,e.fetchHotkey=i,e.fetchAlbum=a,e.fetchLyric=u,e.fetchHitAll=c,e.fetchHitNewSong=l;var d=n(2),f=o(d),h=n(89),p=o(h),m=n(74);f.default.use(p.default);var g={album:{url:"https://c.y.qq.com/v8/fcg-bin/fcg_v8_album_info_cp.fcg",params:function(t){return{albummid:t,g_tk:5381,loginUin:0,hostUin:0,format:"jsonp",inCharset:"utf8",outCharset:"utf-8",notice:0,platform:"yqq",needNewCode:0}}},song_info:{url:"/qq-m-api/v8/fcg-bin/fcg_play_single_song.fcg",params:function(t){return{songmid:t,format:"json"}}},search:{url:"http://c.y.qq.com/soso/fcgi-bin/search_cp?",params:function(t){return{p:1,n:15,w:t,aggr:1,lossless:1,cr:1}}},hotkey:{url:"https://c.y.qq.com/splcloud/fcgi-bin/gethotkey.fcg",params:function(){return{g_tk:5381,loginUin:0,hostUin:0,format:"jsonp",jsonp:"jsonpCallback",inCharset:"utf8",outCharset:"utf-8",notice:0,platform:"yqq",needNewCode:0}}},lyric:{url:"https://c.y.qq.com/lyric/fcgi-bin/fcg_query_lyric.fcg",params:function(t){return{nobase64:1,musicid:t,songtype:0}}}}},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(25),s=o(r),i=n(2),a=o(i),u=n(3),c=o(u),l=n(23),d=n(70),f=o(d);a.default.use(c.default);var h=new c.default.Store({state:{hisSongArr:localStorage.hisSongArr?JSON.parse(localStorage.hisSongArr):[],lyricArr:[],lrcTimeArr:[],playing:!1,audio:new Audio,currentTime:0,lrcCurIndex:0},getters:{},actions:{FETCH_SONG_LIST:function(t,e){var n=(0,l.search)(e);return n},FETCH_SONG_INFO:function(t,e){var n=(0,l.fetchSongInfo)(e);return console.log("p",n),n},FETCH_LYRIC:function(t,e){var n=(0,l.fetchLyric)(e);return n}},mutations:{addHisSong:function(t,e){t.hisSongArr.unshift(e.song),t.hisSongArr.length>10&&(t.hisSongArr=t.hisSongArr.slice(0,10)),localStorage.hisSongArr=(0,s.default)(t.hisSongArr)},loadLyric:function(t,e){t.lyricArr=e.lyricArr,t.lrcTimeArr=f.default.map(t.lyricArr,"time")},play:function(t){t.playing=!0,t.audio.play()},pause:function(t){t.playing=!1,t.audio.pause()},changePlayPos:function(t,e){t.audio.currentTime=e},changeCurrentTime:function(t,e){t.currentTime=e,t.lrcCurIndex=f.default.sortedIndex(t.lrcTimeArr,e);for(var n=0;n<t.lyricArr.length;n++)t.lyricArr[n].selected=!1;t.lrcCurIndex>0&&(t.lyricArr[t.lrcCurIndex-1].selected=!0)}}});e.default=h},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,,,,,,,,function(t,e,n){n(61);var o=n(1)(n(15),n(83),null,null);t.exports=o.exports},function(t,e,n){n(60);var o=n(1)(n(16),n(82),null,null);t.exports=o.exports},function(t,e,n){n(65);var o=n(1)(n(17),n(87),"data-v-79d58168",null);t.exports=o.exports},function(t,e,n){n(62);var o=n(1)(n(18),n(84),null,null);t.exports=o.exports},function(t,e,n){n(63);var o=n(1)(n(19),n(85),"data-v-19e3e969",null);t.exports=o.exports},function(t,e,n){n(66);var o=n(1)(n(20),n(88),null,null);t.exports=o.exports},function(t,e,n){n(64);var o=n(1)(n(21),n(86),"data-v-2f80144f",null);t.exports=o.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-side"},[n("mu-drawer",{attrs:{open:t.open},on:{close:function(e){t.toggle()}}},[n("mu-appbar",{staticClass:"exmaples-nav-appbar",attrs:{zDepth:0}},[n("a",{staticClass:"exmaples-appbar-title",staticStyle:{display:"inline-block"},attrs:{href:"/"}},[t._v("History List")]),t._v(" "),n("mu-badge",{staticClass:"exmaples-version",attrs:{content:"2017",secondary:""}})],1),t._v(" "),n("mu-divider"),t._v(" "),n("mu-list",[t._l(t.hisSongArr,function(e,o){return n("mu-list-item",{attrs:{title:e.songname,titleClass:"my-title"},on:{click:function(e){t.handleClick(o)}}})}),t._v(" "),n("mu-list-item",{attrs:{title:"Close"},on:{click:t.handleClose}})],2)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("mu-appbar",{staticClass:"example-appbar",class:{"nav-hide":!t.open},attrs:{zDepth:0}},[n("mu-icon-button",{attrs:{icon:"menu"},on:{click:t.toggleNav},slot:"left"}),t._v(" "),n("h2",{on:{click:t.toIndex},slot:"left"},[t._v("Home")]),t._v(" "),n("mu-icon-button",{staticStyle:{"margin-left":"4em"},attrs:{href:"https://github.com/museui/muse-ui",icon:"github_circle"}})],1),t._v(" "),n("app-side",{attrs:{open:t.open,docked:t.docked},on:{change:t.handleMenuChange,close:t.toggleNav}}),t._v(" "),n("div",{staticClass:"example-content",class:{"nav-hide":!t.open}},[n("transition",{attrs:{name:"fade",mode:"out-in"}},[n("router-view")],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"lyric"},[n("mu-content-block",[n("ul",{style:{marginTop:t.lrcMarginTop}},t._l(t.lyricArr,function(e){return n("li",{class:e.selected?t.selectedColor:t.defaultColor},[t._v(t._s(e.lrc)+"\n      ")])}))])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"song-list",class:t.aniName},t._l(t.songArr,function(e,o){return n("div",{staticClass:"item",on:{click:function(n){t.handleSelect(e)}}},[n("mu-badge",{attrs:{content:o+1+"",circle:""}}),n("span",{staticClass:"title"},[t._v(t._s(e.songname))])],1)}))},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"autum"},[n("div",{staticClass:"album-show rotating"},[n("img",{attrs:{src:t.albumImgUrl}})]),t._v(" "),n("div",{staticClass:"song-info"},[n("h2",[t._v(t._s(t.song.name))]),t._v(" "),n("div",[t._v(t._s(t.singer.name))])]),t._v(" "),n("controls",{attrs:{songid:t.songid}}),t._v(" "),n("lyric",{attrs:{songid:t.songid}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"controls"},[n("div",{staticClass:"ctrl-button"},[n("i",{staticClass:"material-icons",on:{click:function(e){t.handlePlay()}}},[t._v(t._s(t.playing?"pause_circle_outline":"play_circle_outline"))])]),t._v(" "),n("mu-content-block",[n("mu-flexbox",[n("span",{staticClass:"cur-time"},[t._v(t._s(t.currentTimeStr))]),t._v(" "),n("mu-flexbox-item",{staticClass:"flex-slider"},[n("mu-slider",{staticClass:"slider",attrs:{max:t.duration,value:t.currentTime},on:{change:t.handleChange}})],1),t._v(" "),n("span",[t._v(t._s(t.totalTimeStr))])],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"mu-banner"},[n("div",{staticClass:"mu-banner-container"},[n("div",{staticClass:"mu-logo"},[t._v("\n\t          M\n\t        ")]),t._v(" "),n("h1",{staticClass:"mu-banner-title"},[t._v("\n\t          QQ Music\n\t        ")]),t._v(" "),n("h2",{staticClass:"mu-banner-sub-title"},[t._v("\n\t         Embrace Vue , enjoy life\n\t        ")]),t._v(" "),n("div",{staticClass:"mu-banner-actions",on:{keyup:function(e){t._k(e.keyCode,"enter",13)||t.handleEnter(e)}}},[n("mu-text-field",{directives:[{name:"model",rawName:"v-model",value:t.word,expression:"word"}],attrs:{hintText:"search song or singer",type:"search",icon:"search",iconClass:"color-white",hintTextClass:"color-white",inputClass:"color-white",underlineClass:"border-white-alpha",underlineFocusClass:"border-white",fullWidth:""},domProps:{value:t.word},on:{input:function(e){t.word=e}}})],1)]),t._v(" "),n("div",{staticClass:"mu-banner-appbar-height"})]),t._v(" "),n("mu-content-block",[n("song-list",{attrs:{"song-arr":t.hotSongArr}})],1)],1)},staticRenderFns:[]}},,,,function(t,e){}]);
//# sourceMappingURL=app.b6b3c1df5f6e1cfc74be.js.map